
> cirrus-auth-module@4.0.1 test /home/jenkins/workspace/e_cirrus-auth-module_v4.0.1-T2EMRRKQS76Y46OVDTI7JXKM37BNWHBKBLYCC32B7HEVSOKK3KHA
> npm run build && npx jest


> cirrus-auth-module@4.0.1 build /home/jenkins/workspace/e_cirrus-auth-module_v4.0.1-T2EMRRKQS76Y46OVDTI7JXKM37BNWHBKBLYCC32B7HEVSOKK3KHA
> gulp build

[12:46:08] Using gulpfile ~/workspace/e_cirrus-auth-module_v4.0.1-T2EMRRKQS76Y46OVDTI7JXKM37BNWHBKBLYCC32B7HEVSOKK3KHA/gulpfile.js
[12:46:08] Starting 'build'...
[12:46:12] Finished 'build' after 3.26 s
PASS test/index.test.js (6.902s)
  Auth Module
    openid-implicit flow
      ✓ should exist (121ms)
      ✓ should expose authenticate function (39ms)
      ✓ should expose ignore function (60ms)
      ✓ should expose default object (59ms)
    openid-connect flow
      ✓ should exist (52ms)
      ✓ should expose authenticate function (39ms)
      ✓ should expose ignore function (68ms)
      ✓ should expose default object (82ms)
    invalid-auth-type flow
      ✓ should exist (56ms)
      ✓ should expose authenticate function (38ms)
      ✓ should expose ignore function (63ms)
      ✓ should expose default object (63ms)

  console.log node_modules/cirrus-ping-auth-module/dist/logger.js:26
    [AUTH] Auth is enabled. Using PING flow.

{"module":"CIRR_AUTH_MODULE/index.js","level":"info","message":"[AUTH] Using openid-implicit flow"}
{"module":"CIRR_AUTH_MODULE/index.js","level":"info","message":"[AUTH] Using cirrus-ping-auth-module"}
  console.log node_modules/cirrus-oidc-auth-module/dist/logger.js:27
    [AUTH] Using OPENID_ISSUER https://login.microsoftonline.com/18a59a81-eea8-4c30-948a-d8824cdc2580/v2.0

  console.log node_modules/cirrus-oidc-auth-module/dist/logger.js:27
    [AUTH] Using openid-connect auth v3.0.0

{"module":"CIRR_AUTH_MODULE/index.js","level":"info","message":"[AUTH] Using openid-connect flow"}
{"module":"CIRR_AUTH_MODULE/index.js","level":"info","message":"[AUTH] Using cirrus-oidc-auth-module"}
{"module":"CIRR_AUTH_MODULE/index.js","level":"debug","message":"[AUTH] invalid-auth-type is not a valid auth type"}
{"module":"CIRR_AUTH_MODULE/index.js","level":"debug","message":"[AUTH] Please select from the following:"}
{"module":"CIRR_AUTH_MODULE/index.js","level":"debug","message":"\t- \"openid-implicit\""}
{"module":"CIRR_AUTH_MODULE/index.js","level":"debug","message":"\t- \"openid-connect\""}
Test Suites: 1 passed, 1 total
Tests:       12 passed, 12 total
Snapshots:   0 total
Time:        8.247s
Ran all test suites.
